---
import Layout from '../layouts/Layout.astro';
import { getEntry, render } from 'astro:content';
import { type CollectionEntry } from 'astro:content';
import { breadcrumbListJsonLd } from '../lib/seo/structuredData';

const aboutEntry: CollectionEntry<'pagesIt'> | undefined = await getEntry('pagesIt', 'it/about');

if (!aboutEntry) {
  return new Response('About page content not found', { status: 404 });
}

const { data } = aboutEntry;
const { Content } = await render(aboutEntry);

const site = Astro.site ?? new URL('https://devisia.pro');
const breadcrumbs = breadcrumbListJsonLd({
  site,
  items: [
    { name: 'Home', url: '/' },
    { name: 'Chi siamo', url: '/about' },
  ],
});
---

<Layout title={data.title} description={data.description} heroImage={data.heroImage} structuredData={[breadcrumbs]}>
  <article class="ds-stack" data-gap="lg" style="container-type: inline-size">
    <div class="ds-reading ds-stack" data-gap="lg">
      <Content />
    </div>
  </article>
</Layout>
