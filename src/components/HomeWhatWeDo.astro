---
import Card from './ui/Card.astro';

export interface Props {
  lang?: 'it' | 'en';
  title?: string | null;
  description?: string | null;
  cards?: Array<{ tag: string; title: string; description: string }> | null;
}

const { lang = 'it', title, description, cards } = Astro.props;

// Default content
const defaults = {
  it: {
    title: 'Cosa facciamo',
    description: 'Sviluppiamo prodotti SaaS e soluzioni software su misura progettate per scalare. Dalla validazione iniziale alla delivery di livello production, ci concentriamo su chiarezza, manutenibilità e valore di lungo termine.',
    cards: [
      {
        tag: 'Prodotti SaaS',
        title: 'Prodotti SaaS',
        description: 'Progettiamo e sviluppiamo SaaS proprietari focalizzati su problemi reali, iterando rapidamente con affidabilità e UX al centro.',
      },
      {
        tag: 'Software su misura',
        title: 'Software su misura',
        description: 'Web app, dashboard e integrazioni su misura per i tuoi workflow — costruiti per adattarsi al tuo business.',
      },
      {
        tag: 'Delivery end-to-end',
        title: 'Delivery end-to-end',
        description: 'Discovery, architettura, implementazione e manutenzione. Consegniamo in modo iterativo mantenendo il controllo in ogni fase.',
      },
    ],
  },
  en: {
    title: 'What we do',
    description: 'We build SaaS products and custom software solutions designed to scale. From early validation to production-grade delivery, we focus on clarity, maintainability, and long-term value.',
    cards: [
      {
        tag: 'SaaS Products',
        title: 'SaaS Products',
        description: 'We design and develop proprietary SaaS products focused on real problems, iterating fast with reliability and UX at the center.',
      },
      {
        tag: 'Custom Software',
        title: 'Custom Software',
        description: 'Web apps, dashboards, and integrations tailored to your workflows — built to fit your business.',
      },
      {
        tag: 'End-to-end delivery',
        title: 'End-to-end delivery',
        description: 'Discovery, architecture, implementation, and maintenance. We ship iteratively and keep control at every stage.',
      },
    ],
  },
};

const content = {
  title: title ?? defaults[lang].title,
  description: description ?? defaults[lang].description,
  cards: cards ?? defaults[lang].cards,
};
---

<section class="ds-stack" data-gap="lg" style="container-type: inline-size">
  <h2 style="margin: 0">{content.title}</h2>
  <p class="ds-muted" style="margin: 0">{content.description}</p>
  <div class="ds-grid" data-cols="3" style="container-type: inline-size">
    {content.cards.map((card) => (
      <Card>
        <div class="ds-card__body ds-stack" data-gap="sm">
          <span class="ds-tag">{card.tag}</span>
          <h3 style="margin: 0; font-weight: 700; font-size: var(--ds-text-xl)">{card.title}</h3>
          <p style="margin: 0; font-size: var(--ds-text-sm); color: var(--ds-color-text-muted); line-height: var(--ds-leading-relaxed)">{card.description}</p>
        </div>
      </Card>
    ))}
  </div>
</section>
